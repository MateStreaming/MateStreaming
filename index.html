<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>MateStreaming</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Montserrat:wght@700;900&display=swap" rel="stylesheet">
<style>
:root{
  --azul:#0b3cff;
  --bg:#050b1e;
  --grad-bg: linear-gradient(to top, #050b1e, transparent);
}
*{box-sizing:border-box;margin:0;padding:0;}
body{
  font-family:'Poppins',sans-serif;
  background: var(--bg);
  color:white;
  overflow-x:hidden;
}

/* SPLASH */
#splash{
  position:fixed; inset:0; display:flex; justify-content:center; align-items:center;
  background: var(--bg); z-index:999; opacity:1; transition:opacity 1s ease;
}
#splash img{width:250px; animation:introZoom 2s ease forwards;}
@keyframes introZoom{
  0%{transform:scale(0.6);opacity:0;}
  50%{transform:scale(1.1);opacity:1;}
  100%{transform:scale(1);opacity:1;}
}

/* HEADER */
header{ text-align:center; padding:15px; position:relative; z-index:1; }
header img{height:42px;}
#search{ position:absolute; top:12px; right:15px; padding:6px 12px; border-radius:20px; border:none; font-size:14px; background:rgba(255,255,255,0.1); color:white; transition:.3s;}
#search:focus{background:rgba(255,255,255,0.2); outline:none;}

/* DESTACADO */
.destacado{
  height:65vh;
  background-size:cover;
  background-position:center;
  display:flex;
  align-items:flex-end;
  padding:30px;
  transition: background-image 1s ease-in-out, filter 1s ease-in-out;
  filter:blur(0px);
}
.destacado-content{
  background: var(--grad-bg);
  padding:25px;
  border-radius:12px;
  animation:fadeUp 1s ease;
}
.destacado h1{font-family:'Montserrat',sans-serif;font-size:42px;margin:0;text-shadow:0 2px 10px rgba(0,0,0,0.7);}
.destacado p{opacity:.85;text-shadow:0 1px 6px rgba(0,0,0,0.7);}
.destacado button{
  margin-top:10px; background:linear-gradient(90deg,var(--azul),#5f7dff); border:none; color:white; padding:12px 28px;
  border-radius:30px; font-size:16px; cursor:pointer; transition:transform .3s, box-shadow .3s;
}
.destacado button:hover{ transform:scale(1.05); box-shadow:0 5px 20px rgba(11,60,255,0.5); }

/* ANIMACIONES */
@keyframes fadeUp{from{opacity:0; transform:translateY(20px);} to{opacity:1; transform:translateY(0);}}

/* CATALOGOS */
.catalogo{
  display:flex; gap:20px; padding:20px 40px; overflow-x:auto; scroll-behavior:smooth; position:relative;
}
.catalogo::-webkit-scrollbar{height:6px;}
.catalogo::-webkit-scrollbar-thumb{background:#333;border-radius:10px;}

/* ITEMS */
.item{position:relative; width:160px; transition: transform .3s; flex-shrink:0;}
.item:hover{transform:scale(1.1); z-index:2; filter:brightness(1.1);}
.item img{width:100%; height:240px; object-fit:cover; border-radius:12px; box-shadow:0 10px 30px rgba(0,0,0,.6);}
.item p{margin-top:6px; font-size:14px; text-align:center; height:40px; line-height:20px; overflow:hidden; display:flex; align-items:center; justify-content:center; text-shadow:0 1px 4px rgba(0,0,0,0.6);}

/* FAVORITOS */
.fav-icon{
  position:absolute; top:8px; right:8px; width:28px; height:28px;
  background:rgba(255,255,255,0.8);
  mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="black" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>') center/cover no-repeat;
  cursor:pointer; transition: transform .3s, background .3s;
}
.fav-icon.fav-active{background:var(--azul); animation:favPulse .4s;}
@keyframes favPulse{0%{transform:scale(0.5)}50%{transform:scale(1.3)}100%{transform:scale(1)}}
.fav-icon:hover{transform:scale(1.3);}

/* SECCIONES */
h2{font-family:'Montserrat',sans-serif; padding:20px 40px 0; margin:0; text-shadow:0 2px 6px rgba(0,0,0,0.6); animation:fadeUp 1s ease;}

/* INFO */
.info-section{display:none; position:fixed; inset:0; background:rgba(5,11,30,.96); z-index:1000; padding:40px; animation:fade .4s ease;}
@keyframes fade{from{opacity:0}to{opacity:1;}}
.info-wrap{display:flex; gap:40px; height:100%;}
.info-left{max-width:420px;}
.info-left img{width:100%; border-radius:12px; margin-bottom:20px;}
.info-left p{margin:6px 0;}
.info-left button{margin-top:12px;margin-right:10px;padding:12px 26px;border:none;border-radius:30px;font-size:15px;cursor:pointer;transition:transform .3s;}
.info-left button:hover{transform:scale(1.05);}
.ver-btn{background:var(--azul);color:white;}
.trailer-btn{background:#ccc;color:black;}
.close-btn{background:#444;color:white;}
.info-right{flex:1;background-size:cover;background-position:center;border-radius:12px;}

/* PLAYER */
#player{display:none;position:fixed; inset:0; background:#000; z-index:1100; flex-direction:column; justify-content:center; align-items:center; padding:20px;}
#player video{width:90%; max-width:1100px; border-radius:12px;}
#player button{margin-top:15px; background:var(--azul); border:none; color:white; padding:12px 26px; border-radius:30px; font-size:16px; cursor:pointer; transition:transform .3s;}
#player button:hover{transform:scale(1.05);}

@media(max-width:768px){
  .destacado h1{font-size:32px;}
  .info-wrap{flex-direction:column;}
  .item img{height:200px;}
}
</style>
</head>
<body>

<div id="splash"><img src="logo.png"></div>
<header>
  <img src="logo.png">
  <input type="text" id="search" placeholder="Buscar...">
</header>

<section class="destacado" id="destacado">
  <div class="destacado-content">
    <h1 id="destacado-title"></h1>
    <p id="destacado-desc"></p>
    <button id="destacado-btn">‚ñ∂ Ver ahora</button>
  </div>
</section>

<h2 id="continue-title" style="display:none">‚ñ∂ Continuar viendo</h2>
<div class="catalogo" id="catalogo-continue" style="display:none"></div>

<h2 id="fav-title" style="display:none">‚ù§Ô∏è Mi lista</h2>
<div class="catalogo" id="catalogo-favs" style="display:none"></div>

<h2>üé¨ Pel√≠culas</h2>
<div class="catalogo" id="catalogo-peliculas"></div>

<h2>üé• Nora Mercedes: La Trilog√≠a</h2>
<div class="catalogo" id="catalogo-nora"></div>

<h2>üéµ Videoclips</h2>
<div class="catalogo" id="catalogo-videos"></div>

<div class="info-section" id="info">
  <div class="info-wrap">
    <div class="info-left">
      <img id="info-logo">
      <p id="info-desc"></p>
      <p><strong>A√±o:</strong> <span id="info-year"></span> ¬∑ <strong>Duraci√≥n:</strong> <span id="info-duration"></span></p>
      <button class="ver-btn" id="play-btn">‚ñ∂ Ver ahora</button>
      <button class="trailer-btn" id="trailer-btn">Trailer</button>
      <button class="close-btn" onclick="closeInfo()">Cerrar</button>
    </div>
    <div class="info-right" id="info-bg"></div>
  </div>
</div>

<div id="player">
  <video id="video" controls autoplay playsinline></video>
  <button onclick="closePlayer()">‚¨Ö Volver</button>
</div>

<script>
// SPLASH
setTimeout(()=>{const splash=document.getElementById('splash'); splash.style.opacity=0; setTimeout(()=>splash.style.display='none',1000);},2000);

// VIDEOS
const baseVideos="https://github.com/MateStreaming/MateStreaming/releases/download/videos-v1/";
const baseTrailers="https://github.com/MateStreaming/MateStreaming/releases/download/videos-v2/";
const videos=[
 {k:"nora1", t:"Nora Mercedes, la pel√≠cula", p:"posters/nora1.jpg", d:"Destacados/destacado1.jpg", ds:"Primera producci√≥n", y:"2023", du:"8m40s", v:baseVideos+"nora1.mp4", tr:baseTrailers+"nora1.mp4"},
 {k:"nora2", t:"Nora Mercedes 2", p:"posters/nora2.jpg", d:"Destacados/destacado2.jpg", ds:"Nora enfrenta a su jefe", y:"2023", du:"9m41s", v:baseVideos+"nora2.mp4", tr:baseTrailers+"nora2.mp4"},
 {k:"nora3", t:"Nora Mercedes 3", p:"posters/nora3.jpg", d:"Destacados/destacado3.jpg", ds:"Consecuencias virales", y:"2025", du:"12m58s", v:baseVideos+"nora3.mp4", tr:baseTrailers+"nora3.mp4"},
 {k:"rewind", t:"Rewind 2023", p:"posters/rewind2023.jpg", d:"Destacados/destacado4.jpg", ds:"Recorrido anual", y:"2023", du:"10m", v:baseVideos+"rewind.mp4", tr:baseTrailers+"rewind.mp4"},
 {k:"normete", t:"Esperando a Normete", p:"posters/esperando_normete.jpg", d:"Destacados/destacado5.jpg", ds:"Despu√©s de los 80", y:"2025", du:"13m26s", v:baseVideos+"normete.mp4", tr:baseTrailers+"normete.mp4"},
 {k:"pou", t:"El Pou - Videoclip", p:"posters/el_pou.jpg", d:"Destacados/destacado6.jpg", ds:"Adicci√≥n al celular", y:"2025", du:"2m08s", v:baseVideos+"pou.mp4", tr:baseTrailers+"pou.mp4"},
 {k:"laurita", t:"La Laurita - Videoclip", p:"posters/la_laurita.jpg", d:"Destacados/destacado7.jpg", ds:"Qui√©n es Mar√≠a Laura", y:"2025", du:"1m55s", v:baseVideos+"laurita.mp4", tr:baseTrailers+"laurita.mp4"}
];

const secciones={ peliculas:["nora1","nora2","nora3","rewind","normete"], nora:["nora1","nora2","nora3"], videos:["pou","laurita"] };

// FUNCIONES
function crearCatalogo(sec, containerId){
  const container=document.getElementById(containerId); container.innerHTML='';
  secciones[sec].forEach(k=>{
    const v=videos.find(x=>x.k===k);
    const item=document.createElement('div'); item.className='item';
    item.setAttribute('data-title',v.t.toLowerCase());
    const img=document.createElement('img'); img.src=v.p; item.appendChild(img);
    const p=document.createElement('p'); p.textContent=v.t; item.appendChild(p);
    const fav=document.createElement('div'); fav.className='fav-icon';
    fav.onclick=(e)=>{ e.stopPropagation(); toggleFav(v.k,fav);}
    item.appendChild(fav);
    item.onclick=()=>openInfo(v.k);
    container.appendChild(item);
  });
}

function toggleFav(k, elem){
  const favs=JSON.parse(localStorage.getItem('favs')||'[]');
  if(favs.includes(k)){ const idx=favs.indexOf(k); favs.splice(idx,1); elem.classList.remove('fav-active');}
  else{ favs.push(k); elem.classList.add('fav-active'); }
  localStorage.setItem('favs',JSON.stringify(favs)); cargarFavs();
}

function cargarFavs(){
  const favs=JSON.parse(localStorage.getItem('favs')||'[]'); const contFav=document.getElementById('catalogo-favs'); contFav.innerHTML='';
  if(favs.length===0){document.getElementById('fav-title').style.display='none'; contFav.style.display='none'; return;}
  document.getElementById('fav-title').style.display='block'; contFav.style.display='flex';
  favs.forEach(k=>{
    const v=videos.find(x=>x.k===k); const item=document.createElement('div'); item.className='item'; item.onclick=()=>openInfo(v.k);
    const img=document.createElement('img'); img.src=v.p; item.appendChild(img);
    const p=document.createElement('p'); p.textContent=v.t; item.appendChild(p);
    const fav=document.createElement('div'); fav.className='fav-icon fav-active'; fav.onclick=(e)=>{ e.stopPropagation(); toggleFav(v.k,fav);}
    item.appendChild(fav); contFav.appendChild(item);
  });
}

// DESTACADO
let di=0; const dsec=document.getElementById('destacado');
function rotar(){ const v=videos[di]; dsec.style.backgroundImage=`url('${v.d}')`;
document.getElementById('destacado-title').textContent=v.t;
document.getElementById('destacado-desc').textContent=v.ds;
document.getElementById('destacado-btn').onclick=()=>openInfo(v.k); di=(di+1)%videos.length;}
rotar(); setInterval(rotar,8000);

// INFO & PLAYER
let actual=null;
function openInfo(k){actual=videos.find(v=>v.k===k); document.getElementById('info').style.display='block';
document.getElementById('info-logo').src=actual.p; document.getElementById('info-desc').textContent=actual.ds;
document.getElementById('info-year').textContent=actual.y; document.getElementById('info-duration').textContent=actual.du;
document.getElementById('info-bg').style.backgroundImage=`url('${actual.d}')`;
document.getElementById('play-btn').onclick=()=>play(actual.v,actual.k);
document.getElementById('trailer-btn').onclick=()=>play(actual.tr,actual.k);}
function closeInfo(){document.getElementById('info').style.display='none';}
function play(src,key){document.getElementById('video').src=src; document.getElementById('player').style.display='flex'; closeInfo();
localStorage.setItem('continuarViendo',JSON.stringify({k:key})); cargarContinuarViendo();}
function closePlayer(){document.getElementById('video').pause(); document.getElementById('player').style.display='none';}

// BUSCADOR
document.getElementById('search').addEventListener('input',()=>{
  const val=document.getElementById('search').value.toLowerCase();
  Object.keys(secciones).forEach(sec=>{
    secciones[sec].forEach(k=>{
      const el=document.querySelector(`#catalogo-${sec} .item[data-title="${videos.find(v=>v.k===k).t.toLowerCase()}"]`);
      if(el) el.style.display=videos.find(v=>v.k===k).t.toLowerCase().includes(val)?'flex':'none';
    });
  });
});

// CONTINUAR VIENDO
function cargarContinuarViendo(){ const data=JSON.parse(localStorage.getItem("continuarViendo")); if(!data) return;
const video=videos.find(v=>v.k===data.k); if(!video) return;
const cont=document.getElementById("catalogo-continue"); const title=document.getElementById("continue-title");
cont.innerHTML=`<div class="item" onclick="play('${video.v}','${video.k}')"><img src="${video.p}"><p>${video.t}</p></div>`;
cont.style.display="flex"; title.style.display="block";}

// EJECUCION INICIAL
Object.keys(secciones).forEach(sec=>crearCatalogo(sec,`catalogo-${sec}`)); cargarFavs(); cargarContinuarViendo();
</script>

</body>
</html>
